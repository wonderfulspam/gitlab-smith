name: "scenario-6"
description: "Monolithic include breakdown for microservices"

expectations:
  should_succeed: true
  expected_issues_resolved: 20  # Exact number expected
  max_new_issues: 2
  semantic_equivalence: false   # Major restructuring
  performance_improvement: true 
  minimum_jobs_analyzed: 17     # Should parse all microservice jobs
  
  # Specific expected issues in BEFORE configuration
  expected_before_issues:
    - "Duplicate Docker setup"
    - "Duplicate Python setup" 
    - "Duplicate Go setup"
    - "Monolithic CI file"
    - "Using 'latest' tag"
    - "More than half of jobs don't use caching"
    - "Similar before_script blocks"
    - "Duplicate setup configuration"
  
  # Specific expected improvements detected
  expected_improvements:
    - "Include consolidation using local includes"
    - "Template extraction for common setup patterns"
    - "Service-specific CI organization"
    - "Consolidated Docker configuration"
    - "Matrix strategy for deployment"
  
  # Expected improvement tags
  expected_improvement_tags:
    - "include"
    - "templates" 
    - "duplication"
    - "matrix"
    - "consolidation"
  
  # Expected remaining issues in AFTER configuration  
  expected_remaining_issues:
    - "Using 'latest' tag"
    - "Artifacts configured without expiration"