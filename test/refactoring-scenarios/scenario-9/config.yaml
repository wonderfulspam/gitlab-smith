name: "scenario-9"
description: "Cross-repository include optimization"

expectations:
  should_succeed: true
  expected_issue_reduction: 6   # Based on analysis - shows 7 before, should reduce significantly
  max_allowed_new_issues: 1
  semantic_equivalence: false   # Include restructuring changes semantics
  performance_improvement: true # Matrix consolidation improves performance
  minimum_jobs_analyzed: 17     # Should parse complex multi-stage pipeline
  expected_includes: 15         # Has many external includes to consolidate
  
  expected_issue_types:
    performance: 6        # Matrix opportunities, caching, artifacts
    maintainability: 1    # Include consolidation
    security: 0
    reliability: 0
  
  expected_issue_patterns:
    - "Multiple similar jobs.*could use matrix"
    - "Multiple local includes.*could be consolidated"
    - "More than half.*don't use caching"
  
  required_improvements:
    - "include"       # Main focus: include consolidation
    - "matrix"        # Matrix opportunities exist
    - "external"      # External include optimization